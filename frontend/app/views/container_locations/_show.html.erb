<section>
  <h5>Locations</h5>

  <div class="container-subrecord">
    <% container_locations.each_with_index do |container_location, index| %>
      <% container_location.reject{|k,v| ["lock_version", "jsonmodel_type", "location", "resolved"].include?(k)}.each do |k, v| %>
        <div class="row-fluid label-and-value">
          <div class="span3 offset1" ><%= I18n.t("container_location.#{k}") %></div>
          <% if JSONModel(:container_location).schema["properties"][k]["enum"] %>
            <div class="span8"><%= I18n.t("container_location.#{k}_#{v}") %></div>
          <% else  %>
            <div class="span8"><%= v %></div>
          <% end %>
        </div>
      <% end %>
      <% if container_location["location"] %>
        <div class="row-fluid label-and-value">
          <div class="span3 offset1" ><%= I18n.t("container_location.location") %></div>
          <div class="span8">
            <div class="token"><%= Location.from_hash(container_location["resolved"]["location"]).display_string %></div>
          </div>
        </div>
      <% end %>
      <% if index < container_locations.length-1 %><hr/><% end %>
    <% end %>
  </div>

</section>
<div id="modal_custom_template"><!--
   <div class="modal hide" id="${id}">
      <div class="modal-header">
        <a class="close" data-dismiss="modal">Ã—</a>
        <h3>${title}</h3>
      </div>
      ${content}
   </div>
--></div>

<div id="save_changes_modal_template"><!--
   <div class="modal-body">
      <%= I18n.t "save_changes_modal.body" %>
   </div>
   <div class="modal-footer">
      <button id="saveChangesButton" class="btn btn-primary"><%= I18n.t "save_changes_modal.body" %></button>
      <button id="dismissChangesButton" class="btn"><%= I18n.t "save_changes_modal.dismiss" %></button>
      <button class="btn btn-cancel" data-dismiss="modal"><%= I18n.t "actions.cancel" %></button>
   </div>
--></div>

<div id="confirmation_modal_template"><!--
   <div class="modal-body">
      {if defined(message) && message.length > 0}
        ${message}
      {/if}
   </div>
   <div class="modal-footer">
      <button id="confirmButton" class="btn btn-primary"><%= I18n.t "actions.confirm" %></button>
      <button class="btn btn-cancel" data-dismiss="modal"><%= I18n.t "actions.cancel" %></button>
   </div>
--></div>

<div id="linker_browsemodal_template"><!--
   <div class="modal-body linker-container">
      <div class="linker-list"></div>
   </div>
   <div class="modal-footer">
      <button id="addSelectedButton" class="btn btn-primary"><%= I18n.t "linker.link_to_prefix" %> ${label_plural}</button>
      <button class="btn btn-cancel" data-dismiss="modal"><%= I18n.t "actions.cancel" %></button>
   </div>
--></div>
<div id="linker_createmodal_template"><!--
   <div class="modal-body linker-container"></div>
   <div class="modal-footer">
      <button id="createAndLinkButton" class="btn btn-primary"><%= I18n.t "linker.create_and_link_to_prefix" %> ${label}</button>
      <button class="btn btn-cancel" data-dismiss="modal"><%= I18n.t "actions.cancel" %></button>
   </div>
--></div>
<div id="linker_browse_template"><!--
   <div class="pagination">
    <%= I18n.t "pagination.page_prefix" %> ${search_data.this_page} <%= I18n.t "pagination.page_connector" %> ${search_data.last_page}
    <div class="navigation">
      {if search_data.this_page > search_data.first_page}<a href="javascript:void(0);" rel="${search_data.this_page - 1}"><%= I18n.t "pagination.previous" %></a>{/if}
      {if search_data.this_page > search_data.first_page && search_data.this_page < search_data.last_page} | {/if}
      {if search_data.this_page < search_data.last_page}<a href="javascript:void(0);" rel="${search_data.this_page + 1}"><%= I18n.t "pagination.next" %></a>{/if}
    </div>
   </div>
   <ul class="token-list">
      {for item in search_data.results}
         {var json = item}
         {if item.json}{var json = JSON.parse(item.json)}{/if}
         <li>
            <label>
               {if config.multiplicity === "one"}
                 <input
                    type="radio"
                    name="linker-item"
                    value="${item.uri}"
                    data-object='${JSON.stringify(json)}'
                    {if $.inArray(item.uri, selected) >= 0} checked="checked"{/if}
                 />
               {else}
                 <input
                    type="checkbox"
                    name="linker-item"
                    value="${item.uri}"
                    data-object='${JSON.stringify(json)}'
                    {if $.inArray(item.uri, selected) >= 0} checked="checked"{/if}
                 />
               {/if}
               {if config.format_property}
                  {var token_title = item[config.format_property]}
                {elseif config.format_template_id}
                  {var token_title = $(AS.renderTemplate(config.format_template_id, json)).html()} 
                {else}
                  {var token_title =  AS.quickTemplate(config.format_template, json)}
                {/if}
               <%= render_token :label => "${token_title}",
                                :type => "${item.primary_type}",
                                :uri => "${item.uri}",
                                :inside_linker_browse => true %>
            </label>
         </li>
      {/for}
   </ul>
   <div class="pagination">
    <%= I18n.t "pagination.page_prefix" %> ${search_data.this_page} <%= I18n.t "pagination.page_connector" %> ${search_data.last_page}
    <div class="navigation">
      {if search_data.this_page > search_data.first_page}<a href="javascript:void(0);" class="previous-page"><%= I18n.t "pagination.previous" %></a>{/if}
      {if search_data.this_page > search_data.first_page && search_data.this_page < search_data.last_page} | {/if}
      {if search_data.this_page < search_data.last_page}<a href="javascript:void(0);" class="next-page"><%= I18n.t "pagination.next" %></a>{/if}
    </div>
   </div>
--></div>
<div id="linker_selectedtoken_template"><!--
   <li id="${item.id.replace(/\//g,'_')}">
      <input type="hidden" name="${config.path}[resolved][${config.name}]{if config.multiplicity != 'one'}[]{/if}" />
      <input type="hidden" name="${config.path}[${config.name}]{if config.multiplicity != 'one'}[]{/if}" value="${item.id}" />
      <%= render_token :label => "${item.name}",
                       :type => "${item.json.jsonmodel_type}",
                       :uri => "${item.id}",
                       :inside_token_editor => true %>
   </li>
--></div>

<div id="subform_remove_confirmation_template"><!--
   <div class="pull-right subrecord-form-removal-confirmation">
    <div class="btn-group">
      <button class="btn btn-small cancel-removal"><%= I18n.t "actions.cancel" %></button>
      <button class="btn btn-small btn-primary confirm-removal"><%= I18n.t "actions.confirm_removal" %></button>
     </div>
   </div>
--></div>

<div id="mixed_content_wrap_action_template"><!--
  <div class="mixed-content-wrapper popover bottom">
    <div class="arrow"></div>
    <div class="popover-inner">
      <div class="popover-content">
        <label><%= I18n.t "mixed_content.wrap_prefix" %>
          <select class="mixed-content-wrap-action">
            <option></option>
            {for tag in tags}
              <option>${tag.tag}</option>
            {/for}
          </select>
        </label>
      </div>
    </div>
  </div>
--></div>

<div id="mixed_content_help_template"><!--
  <div class="mixed-content-help">
    <%= I18n.t("mixed_content.help").html_safe %>
  </div>
--></div>

<div id="linker_subject_template"><!--
  <span>
    {for t in terms}
      ${t.term}
      {if t_index < terms.length - 1} -- {/if}
    {/for}
  </span>
--></div>

<div id="linker_location_template"><!--
  <span>
    ${building}{if defined("floor")}, ${floor}{/if}{if defined("room")}, ${room}{/if}{if defined("area")}, ${area}{/if}
  </span>
--></div>
